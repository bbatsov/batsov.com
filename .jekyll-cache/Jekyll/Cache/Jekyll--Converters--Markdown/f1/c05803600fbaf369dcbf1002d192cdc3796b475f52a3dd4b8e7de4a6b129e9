I"³<p>One of the things I love most about Lisp development is the ability to
develop applications in an incremental interactive manner - you write
one function, compile it, load into your current REPL session, make
some adjustments and repeat this process until you get satisfactory
results. You never stop to compile your project, you never have to
restart your application server. Without those distractions itâ€™s
easier to maintain your concentration and to remain in the <em>flow</em>.</p>

<p>With languages like Scala and Java, however, you cannot do this - at
least without a bit of external help. This help comes in the form of an
application called <a href="http://www.zeroturnaround.com/jrebel/">JRebel</a>, which basically reloads the classes in your
program as you make changes to them and recompile them. JRebel is a commercial
application and generally you have to pay to use itâ€¦ unless you want
to you use it for Scala development, that is. ZeroTurnaround(the
company that makes JRebel) offers
<a href="http://sales.zeroturnaround.com/wp-content/themes/zeroturnaround4.0/modals/applyForLicense.php">free licences to Scala developers</a>
and if youâ€™re one of them you should definitely get one.</p>

<p>Installing JRebel is trivial - generally you have to only extract a
zip file(or use an installer) somewhere and drop in the JRebel folder
the licence file that they have e-mail you. Afterwards you simply have
to integrate JRebel with your build system. JRebel can also be
integrated with IDEs, but I want cover this here. I use mostly
<a href="http://maven.apache.org">Maven 3</a> and
<a href="http://code.google.com/p/simple-build-tool/">SBT</a> so Iâ€™ll show you
what to do for them. With Maven you have to add the following to the
<em>$MAVEN_OPTS</em> environmental variable:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">MAVEN_OPTS</span><span class="o">=</span><span class="nt">-noverify</span> <span class="nt">-javaagent</span>:/home/bozhidar/work/jrebel/jrebel.jar
</code></pre></div></div>

<p>Since most people use JRebel for web development to avoid the need to
restart their application containers and Scalaâ€™s most prominent
framework is <a href="http://liftweb.net">Lift</a> youâ€™d probably want to enable
the JRebel Lift plug-in as well:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">MAVEN_OPTS</span><span class="o">=</span><span class="nt">-noverify</span> <span class="nt">-javaagent</span>:/home/bozhidar/work/jrebel/jrebel.jar
 <span class="nt">-Drebel</span>.lift_plugin<span class="o">=</span><span class="nb">true</span>
</code></pre></div></div>

<p>Stick this in your shellâ€™s init file and source it to make it
available in the shell.</p>

<p>Now when you start your web app with</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn jetty:run
</code></pre></div></div>

<p>And the continuous Scala compilation with</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mvn scala:cc
</code></pre></div></div>

<p>The compiler with pickup the changes you made and JRebel will reload
the changed classes behind the scenes. The development process this
way starts to feel a bit like using a scripting language such as Ruby
or PHP.</p>

<p>If youâ€™re using SBT you should modify the sbt startup script to
include the same options that I mentioned in the section about Maven
configuration. Mine sbt script looks like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

java <span class="nt">-noverify</span> <span class="nt">-javaagent</span>:/home/bozhidar/work/jrebel/jrebel.jar
 <span class="nt">-Drebel</span>.lift_plugin<span class="o">=</span><span class="nb">true</span> <span class="nt">-XX</span>:+CMSClassUnloadingEnabled
 <span class="nt">-XX</span>:MaxPermSize<span class="o">=</span>512m <span class="nt">-Xmx512M</span> <span class="nt">-Xss2M</span> <span class="nt">-jar</span> <span class="sb">`</span><span class="nb">dirname</span> <span class="nv">$0</span><span class="sb">`</span>/sbt-launch.jar
 <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span>
</code></pre></div></div>

<p>Another use for JRebel is the Scala REPL itself. When you start the
REPL from inside SBT for instance with the command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbt console
</code></pre></div></div>

<p>changes to the imported classes will be reflected automatically
without the need to do a <em>:replay</em> or restart the REPL - something
reminiscent of the interactive Lisp programming I mentioned earlier.</p>

<p>So what are you waiting for? Go grab JRebel and speed up your Scala
development process.</p>
:ET